<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LASUSTENNIS LADDER GAMES</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/index.js') }}" charset="utf-8" defer></script>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Climate+Crisis&family=Fredoka:wght@700&family=Lobster+Two:ital,wght@1,700&family=Noto+Sans+JP&family=Roboto+Condensed:ital,wght@1,700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <script defer src="https://use.fontawesome.com/releases/v6.2.1/js/all.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

  </head>
  <body>
    <div class="stats-div">
      <div class="fixed">
        <nav class="stats-nav">
          <a class="link" href="/"><p class="brand"><span class="" href="">LASUS</span><span class="green">TENNIS</span><span class="ladder-games"> Ladder Games 2023</span></p></a>
        </nav>
        <div class="container">
          <header class="d-flex justify-content-center py-3 border-bottom">
            <ul class="nav nav-pills">
              <li class="nav-item"><a href="" class="nav-link tab active" aria-current="page" data-tab-value="#standings">Standings</a></li>
              <li class="nav-item"><a href="" class="nav-link tab" data-tab-value="#games">Games</a></li>
              <li class="nav-item"><a href="" class="nav-link tab" data-tab-value="#stats">Stats</a></li>
            </ul>
          </header>
        </div>
      </div>
      <div class="invisible">
        <nav class="stats-nav">
          <a class="link" href="/"><p class="brand"><span class="" href="">LASUS</span><span class="green">TENNIS</span><span class="ladder-games"> Ladder Games 2023</span></p></a>
        </nav>
        <div class="container">
          <header class="d-flex justify-content-center py-3 border-bottom">
            <ul class="nav nav-pills">
              <li class="nav-item"><a href="" class="nav-link tab active" aria-current="page" data-tab-value="#standings">Standings</a></li>
              <li class="nav-item"><a href="" class="nav-link tab" data-tab-value="#games">Games</a></li>
              <li class="nav-item"><a href="" class="nav-link tab" data-tab-value="#stats">Stats</a></li>
            </ul>
          </header>
        </div>
      </div>
      <div class="container mt-3 mb-5">
        <div class="container">
          <div class="active" id="standings" data-tab-info>
            <div class="card container">
              <table class="table align-middle">
                <thead>
                  <tr>
                    <th scope="col" class="text-end">#</th>
                    <th scope="col"></th>
                    <th scope="col" class="text-start">Player</th>
                    <th scope="col">Games</th>
                    <th scope="col">Points</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  {% for i in range(no_of_players) %}
                    {% if 0 <= i <= 3 %}
                      <tr class="table-warning">
                        <th scope="row" class="text-end">{{ players[i].position }}</th>
                        {% if players[i].shift > 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-up up"></i></td>
                        {% elif players[i].shift < 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-down down"></i></td>
                        {% else %}
                          <td class="text-start"><div class="dash"><hr></div></td>
                        {% endif %}
                        <td class="text-start">
                          {{ players[i].name }}
                          {% if players[i].rank in range(1,9) %}
                            <p class="text-muted rank ms-1">{{ players[i].rank }}</p>
                          {% endif %}
                        </td>
                        <td>{{ games[i] }}</td>
                        <td>{{ players[i].points }}</td>
                      </tr>
                    {% elif 4 <= i <= 7 %}
                      <tr class="table-secondary">
                        <th scope="row" class="text-end">{{ players[i].position }}</th>
                        {% if players[i].shift > 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-up up"></i></td>
                        {% elif players[i].shift < 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-down down"></i></td>
                        {% else %}
                          <td class="text-start"><div class="dash"><hr></div></td>
                        {% endif %}
                        <td class="text-start">
                          {{ players[i].name }}
                          {% if players[i].rank in range(1,9) %}
                            <p class="text-muted rank ms-1">{{ players[i].rank }}</p>
                          {% endif %}
                        </td>
                        <td>{{ games[i] }}</td>
                        <td>{{ players[i].points }}</td>
                      </tr>
                    {% elif i == no_of_players - 1 %}
                      <tr class="border-0">
                        <th scope="row" class="text-end">{{ players[i].position }}</th>
                        {% if players[i].shift > 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-up up"></i></td>
                        {% elif players[i].shift < 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-down down"></i></td>
                        {% else %}
                          <td class="text-start"><div class="dash"><hr></div></td>
                        {% endif %}
                        <td class="text-start">
                          {{ players[i].name }}
                          {% if players[i].rank in range(1,9) %}
                            <p class="text-muted rank ms-1">{{ players[i].rank }}</p>
                          {% endif %}
                        </td>
                        <td>{{ games[i] }}</td>
                        <td>{{ players[i].points }}</td>
                      </tr>
                    {% else %}
                      <tr>
                        <th scope="row" class="text-end">{{ players[i].position }}</th>
                        {% if players[i].shift > 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-up up"></i></td>
                        {% elif players[i].shift < 0 %}
                          <td class="text-start"><i class="fa-solid fa-angle-down down"></i></td>
                        {% else %}
                          <td class="text-start"><div class="dash"><hr></div></td>
                        {% endif %}
                        <td class="text-start">
                          {{ players[i].name }}
                          {% if players[i].rank in range(1,9) %}
                            <p class="text-muted rank ms-1">{{ players[i].rank }}</p>
                          {% endif %}
                        </td>
                        <td>{{ games[i] }}</td>
                        <td>{{ players[i].points }}</td>
                      </tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
              <div class="row justify-content-center mb-2">
                <div class="col-lg-4 text-start">
                  <div class="square green-square me-2"></div>
                  <span class="info">Playoff seeding</span>
                </div>
              </div>
              <div class="row justify-content-center mb-3">
                <div class="col-lg-4 text-start">
                  <div class="square blue-square me-2"></div>
                  <span class="info">Playoff qualification</span>
                </div>
              </div>
            </div>
          </div>
          <div class="" id="games" data-tab-info>
            {% for i in range(no_of_weeks) %}
              <div class="week-card row container my-2 pb-5">
                <h4 class="white mt-3">Day {{ weeks[i].number }} ({{ weeks[i].first_saturday }})</h4>
                {% for j in range(no_of_matches[i] - 1, -1, -1) %}
                  <div class="col-lg-3 col-md-6 my-2">
                    {% if not weeks[i].matches[j].is_challenge %}
                      <div class="card container">
                        {% if players_in_matches[i][j] == 4 %}
                          {% if weeks[i].matches[j].score1 > weeks[i].matches[j].score2 %}
                            <div class="row pt-2">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}/{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][2] }}/{{ match_players[i][j][3] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% else %}
                            <div class="row pt-2 text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}/{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][2] }}/{{ match_players[i][j][3] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% endif %}
                        {% elif players_in_matches[i][j] == 2 %}
                          {% if weeks[i].matches[j].score1 > weeks[i].matches[j].score2 %}
                            <div class="row pt-2">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% else %}
                            <div class="row pt-2 text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% endif %}
                        {% endif %}
                      </div>
                    {% else %}
                      <div class="card container bg-blue">
                        {% if weeks[i].matches[j].score1 > weeks[i].matches[j].score2 %}
                          {% if weeks[i].matches[j].set2_score1 and weeks[i].matches[j].set2_score2 %}
                            {% if weeks[i].matches[j].set2_score1 > weeks[i].matches[j].set2_score2 %}
                              <div class="row pt-2">
                                <div class="col-8 text-start">
                                  <p>{{ match_players[i][j][0] }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].score1 }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                </div>
                              </div>
                              <div class="row text-muted">
                                <div class="col-8 text-start">
                                  <p>{{ match_players[i][j][1] }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].score2 }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                </div>
                              </div>
                            {% else %}
                              {% if weeks[i].matches[j].set3_score1 and weeks[i].matches[j].set3_score2 %}
                                {% if weeks[i].matches[j].set3_score1 > weeks[i].matches[j].set3_score2 %}
                                  <div class="row pt-2">
                                    <div class="col-6 text-start">
                                      <p>{{ match_players[i][j][0] }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].score1 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set3_score1 }}</p>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-6 text-start text-muted">
                                      <p>{{ match_players[i][j][1] }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].score2 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set3_score2 }}</p>
                                    </div>
                                  </div>
                                {% else %}
                                  <div class="row pt-2">
                                    <div class="col-6 text-start text-muted">
                                      <p>{{ match_players[i][j][0] }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].score1 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set3_score1 }}</p>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-6 text-start">
                                      <p>{{ match_players[i][j][1] }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].score2 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set3_score2 }}</p>
                                    </div>
                                  </div>
                                {% endif %}
                              {% else %}
                                <div class="row pt-2">
                                  <div class="col-8 text-start">
                                    <p>{{ match_players[i][j][0] }}</p>
                                  </div>
                                  <div class="col text-end">
                                    <p>{{ weeks[i].matches[j].score1 }}</p>
                                  </div>
                                  <div class="col text-end text-muted">
                                    <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-8 text-start">
                                    <p>{{ match_players[i][j][1] }}</p>
                                  </div>
                                  <div class="col text-end text-muted">
                                    <p>{{ weeks[i].matches[j].score2 }}</p>
                                  </div>
                                  <div class="col text-end">
                                    <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                  </div>
                                </div>
                              {% endif %}
                            {% endif %}
                          {% else %}
                            <div class="row pt-2">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% endif %}
                        {% else %}
                          {% if weeks[i].matches[j].set2_score1 and weeks[i].matches[j].set2_score2 %}
                            {% if weeks[i].matches[j].set2_score1 > weeks[i].matches[j].set2_score2 %}
                              {% if weeks[i].matches[j].set3_score1 and weeks[i].matches[j].set3_score2 %}
                                {% if weeks[i].matches[j].set3_score1 > weeks[i].matches[j].set3_score2 %}
                                  <div class="row pt-2">
                                    <div class="col-6 text-start">
                                      <p>{{ match_players[i][j][0] }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].score1 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set3_score1 }}</p>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-6 text-start text-muted">
                                      <p>{{ match_players[i][j][1] }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].score2 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set3_score2 }}</p>
                                    </div>
                                  </div>
                                {% else %}
                                  <div class="row pt-2">
                                    <div class="col-6 text-start text-muted">
                                      <p>{{ match_players[i][j][0] }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].score1 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set3_score1 }}</p>
                                    </div>
                                  </div>
                                  <div class="row">
                                    <div class="col-6 text-start">
                                      <p>{{ match_players[i][j][1] }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].score2 }}</p>
                                    </div>
                                    <div class="col text-end text-muted">
                                      <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                    </div>
                                    <div class="col text-end">
                                      <p>{{ weeks[i].matches[j].set3_score2 }}</p>
                                    </div>
                                  </div>
                                {% endif %}
                              {% else %}
                                <div class="row pt-2">
                                  <div class="col-8 text-start">
                                    <p>{{ match_players[i][j][0] }}</p>
                                  </div>
                                  <div class="col text-end text-muted">
                                    <p>{{ weeks[i].matches[j].score1 }}</p>
                                  </div>
                                  <div class="col text-end">
                                    <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-8 text-start">
                                    <p>{{ match_players[i][j][1] }}</p>
                                  </div>
                                  <div class="col text-end">
                                    <p>{{ weeks[i].matches[j].score2 }}</p>
                                  </div>
                                  <div class="col text-end text-muted">
                                    <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                  </div>
                                </div>
                              {% endif %}
                            {% else %}
                              <div class="row pt-2 text-muted">
                                <div class="col-8 text-start">
                                  <p>{{ match_players[i][j][0] }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].score1 }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].set2_score1 }}</p>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-8 text-start">
                                  <p>{{ match_players[i][j][1] }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].score2 }}</p>
                                </div>
                                <div class="col text-end">
                                  <p>{{ weeks[i].matches[j].set2_score2 }}</p>
                                </div>
                              </div>
                            {% endif %}
                          {% else %}
                            <div class="row pt-2 text-muted">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][0] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score1 }}</p>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-10 text-start">
                                <p>{{ match_players[i][j][1] }}</p>
                              </div>
                              <div class="col text-end">
                                <p>{{ weeks[i].matches[j].score2 }}</p>
                              </div>
                            </div>
                          {% endif %}
                        {% endif %}
                      </div>
                    {% endif %}
                  </div>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
          <div class="" id="stats" data-tab-info>
            <div class="row">
              <div class="col-lg-4 col-md-6 my-2">
                <div class="card text-center container pb-4">
                  <h5 class="card-title fw-bold mt-3 mb-0">BEST POINTS PER GAME RATIO</h5>
                  <hr>
                  <div class="card-body stats-card">
                    {% for player in ppg %}
                      <div class="row stat">
                        <div class="col text-start">
                          <p>{{ player }}</p>
                        </div>
                        <div class="col text-end">
                          <p>{{ ppg[player] }}</p>
                        </div>
                      </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 my-2">
                <div class="card text-center container pb-4">
                  <h5 class="card-title fw-bold mt-3 mb-0">MOST POINTS IN A DAY</h5>
                  <hr>
                  <div class="card-body stats-card">
                    {% for player in mpw %}
                      <div class="row stat">
                        <div class="col-8 text-start">
                          <p>{{ player }}</p>
                        </div>
                        <div class="col text-end">
                          <p>{{ mpw[player] }}</p>
                        </div>
                      </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 my-2">
                <div class="card text-center container pb-4">
                  <h5 class="card-title fw-bold mt-3 mb-0">BEST LADDER GAMES WIN RATIO</h5>
                  <hr>
                  <div class="card-body stats-card">
                    {% for player in wpct %}
                      <div class="row stat">
                        <div class="col text-start">
                          <p>{{ player }}</p>
                        </div>
                        <div class="col text-end">
                          <p>{{ wpct[player] }}%</p>
                        </div>
                      </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 my-2">
                <div class="card text-center container pb-4">
                  <h5 class="card-title fw-bold mt-3 mb-0">MOST LADDER GAME BAGELS</h5>
                  <hr>
                  <div class="card-body stats-card">
                    {% for player in mlgb %}
                      {% if mlgb[player] != 0 %}
                        <div class="row stat">
                          <div class="col text-start">
                            <p>{{ player }}</p>
                          </div>
                          <div class="col text-end">
                            <p>{{ mlgb[player] }}</p>
                          </div>
                        </div>
                      {% endif %}
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <p>© LASUSTECH Tennis Club {{ year }}</p>
    </div>
  </body>
</html>
